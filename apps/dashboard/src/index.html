<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Secure Tasks Dashboard</title>
  <base href="/" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Tell the browser we support both color schemes -->
  <meta name="color-scheme" content="light dark" />
  <!-- Tint the browser UI for each scheme -->
  <meta name="theme-color" content="#f8fafc" media="(prefers-color-scheme: light)" />
  <meta name="theme-color" content="#0b1220" media="(prefers-color-scheme: dark)" />

  <link rel="icon" type="image/x-icon" href="favicon.ico" />

  <!-- Apply saved or preferred theme ASAP (before Angular/Tailwind) -->
  <script>
    (function () {
      try {
        var saved = localStorage.getItem('theme'); // 'light' | 'dark' | null
      } catch (_) { saved = null; }
      var prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
      var mode = (saved === 'light' || saved === 'dark') ? saved : (prefersDark ? 'dark' : 'light');
      var root = document.documentElement;
      root.classList.remove('light', 'dark');
      root.classList.add(mode);
    })();
  </script>

  <!-- Tiny CSS fallback so background isn't white/black before Tailwind loads -->
  <style>
    html:not(.dark) body { background-color:#f8fafc; color:#0f172a; }
    html.dark body        { background-color:#0b1220; color:#e5e7eb; }
  </style>
</head>
<body class="min-h-screen antialiased transition-colors duration-200
             bg-slate-50 text-slate-900
             dark:bg-slate-950 dark:text-slate-100">
  <app-root></app-root>
</body>
</html>
