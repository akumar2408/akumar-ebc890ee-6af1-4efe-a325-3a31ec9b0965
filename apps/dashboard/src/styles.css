@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---------- Theme tokens (dark by default) ---------- */
:root {
  /* Dark palette (default) */
  --bg: #0b1220;                   /* page background */
  --panel: rgba(255,255,255,.06);  /* cards/panels */
  --card: rgba(255,255,255,.08);   /* inputs */
  --text: #e5e7eb;                 /* primary text */
  --muted: #9aa3b2;                /* secondary text */
  --brand: #6366f1;                /* indigo 500 */
  --brand-2: #8b5cf6;              /* violet 500 */
  --ring: rgba(99,102,241,.45);    /* focus ring */

  /* background halos (used in both themes) */
  --halo1: rgba(99,102,241,.18);
  --halo2: rgba(139,92,246,.14);
}

/* Light palette (activated by adding .light to <html>) */
html.light {
  color-scheme: light;

  --bg: #f5f7fb;       /* soft off-white (not stark white) */
  --panel: #ffffff;    /* panel/card surface */
  --card: #fbfbfe;     /* input surface */
  --text: #0f172a;     /* slate-900 */
  --muted: #475569;    /* slate-600 */
  --brand: #4f46e5;    /* indigo 600 */
  --brand-2: #06b6d4;  /* cyan 500 */
  --ring: rgba(79,70,229,.28);

  /* gentler halos for light */
  --halo1: rgba(79,70,229,.12);
  --halo2: rgba(6,182,212,.10);
}

/* Smooth theme transitions + page background */
html { color-scheme: dark; } /* default experience = dark */
html, body, app-root { height: 100%; }

body {
  /* crisp but subtle gradient backdrops in both themes */
  background:
    radial-gradient(1100px 520px at 20% -10%, var(--halo1), transparent),
    radial-gradient(900px 520px at 110% 10%, var(--halo2), transparent),
    var(--bg);
  color: var(--text);
  transition:
    background-color .25s ease,
    color .25s ease,
    border-color .25s ease,
    box-shadow .25s ease;
}

/* ---------- Pretty components (usable from templates) ---------- */
@layer components {
  .panel {
    @apply rounded-2xl ring-1;
    background-color: var(--panel);
    border-color: color-mix(in srgb, var(--ring) 38%, transparent);
    box-shadow: 0 10px 30px -15px color-mix(in srgb, var(--ring) 55%, transparent);
  }
  html.light .panel {
    /* a natural light-mode elevation */
    box-shadow: 0 12px 22px -12px rgba(15,23,42,.18);
  }

  .card-muted {
    @apply rounded-xl ring-1;
    background-color: var(--card);
    border-color: color-mix(in srgb, var(--ring) 26%, transparent);
  }
  html.light .card-muted {
    /* very gentle inset highlight to separate from page */
    box-shadow: inset 0 1px 0 rgba(255,255,255,.6);
  }

  .input {
    @apply w-full rounded-xl px-3 py-2 outline-none;
    background-color: var(--card);
    border: 1px solid color-mix(in srgb, var(--ring) 30%, transparent);
    color: var(--text);
    transition: box-shadow .2s, border-color .2s, background-color .2s;
  }
  .input::placeholder {
    color: color-mix(in srgb, var(--muted) 70%, transparent);
  }
  .input:focus {
    border-color: var(--brand);
    box-shadow: 0 0 0 3px color-mix(in srgb, var(--ring) 45%, transparent);
  }

  .btn-primary {
    @apply inline-flex items-center justify-center rounded-xl px-4 py-2 font-medium text-white;
    background: linear-gradient(135deg, var(--brand), var(--brand-2));
    box-shadow: 0 12px 30px -12px color-mix(in srgb, var(--ring) 65%, transparent);
    transition: filter .2s, transform .12s, box-shadow .2s;
  }
  .btn-primary:hover { filter: brightness(1.06); transform: translateY(-1px); }
  .btn-primary:active { transform: translateY(0); }

  .btn-ghost {
    @apply rounded-xl px-3 py-2;
    background-color: color-mix(in srgb, var(--card) 85%, transparent);
    color: var(--text);
  }

  .kbd {
    @apply px-1.5 py-0.5 rounded text-xs font-medium;
    background: color-mix(in srgb, #000 55%, transparent);
    color: #e5e7eb;
  }
  html.light .kbd {
    background: #eef2ff;           /* soft indigo chip */
    color: #334155;                /* slate-700 */
    border: 1px solid #c7d2fe;     /* indigo-200 */
  }

  /* ---------- Boards & Task cards (new) ---------- */
  .board-col {
    border: 1px solid color-mix(in srgb, var(--ring) 35%, transparent);
    border-radius: 1rem;
    background: var(--panel);
    box-shadow: 0 10px 26px -16px color-mix(in srgb, var(--ring) 55%, transparent);
  }
  html.light .board-col {
    background: #ffffff;                  /* true paper */
    border-color: rgba(15, 23, 42, .10);  /* slate-900 @ 10% */
    box-shadow: 0 14px 24px -14px rgba(15, 23, 42, .14);
  }

  .task-card {
    border-radius: .75rem;
    background: var(--card);
    border: 1px solid color-mix(in srgb, var(--ring) 26%, transparent);
    transition: box-shadow .15s ease, transform .12s ease, border-color .15s;
  }
  .task-card:hover {
    box-shadow: 0 10px 18px -14px color-mix(in srgb, var(--ring) 55%, transparent);
    transform: translateY(-1px);
  }
  html.light .task-card {
    background: #ffffff;
    border-color: rgba(15, 23, 42, .10);
    box-shadow: inset 0 1px 0 rgba(255,255,255,.8);
  }

  /* Make inputs feel crisp in light */
  html.light .input {
    background: #ffffff;
    border-color: rgba(15, 23, 42, .12);
    box-shadow: inset 0 1px 0 rgba(255,255,255,.8);
  }
}
